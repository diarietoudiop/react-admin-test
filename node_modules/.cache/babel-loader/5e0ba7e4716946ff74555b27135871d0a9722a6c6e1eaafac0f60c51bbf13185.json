{"ast":null,"code":"import { useCallback } from 'react';\nimport useAuthProvider from './useAuthProvider';\n/**\n * Get a callback for calling the authProvider.getPermissions() method.\n *\n * @see useAuthProvider\n *\n * @returns {Function} getPermissions callback\n *\n * This is a low level hook. See those more specialized hooks\n * offering state handling.\n *\n * @see usePermissions\n *\n * @example\n *\n * import { useGetPermissions } from 'react-admin';\n *\n * const Roles = () => {\n *     const [permissions, setPermissions] = useState([]);\n *     const getPermissions = useGetPermissions();\n *     useEffect(() => {\n *         getPermissions().then(permissions => setPermissions(permissions))\n *     }, [])\n *     return (\n *         <ul>\n *             {permissions.map((permission, key) => (\n *                 <li key={key}>{permission}</li>\n *             ))}\n *         </ul>\n *     );\n * }\n */\nvar useGetPermissions = function () {\n  var authProvider = useAuthProvider();\n  var getPermissions = useCallback(function (params) {\n    if (params === void 0) {\n      params = {};\n    }\n    // react-query requires the query to return something\n    if (authProvider && authProvider.getPermissions) {\n      return authProvider.getPermissions(params).then(function (result) {\n        return result !== null && result !== void 0 ? result : null;\n      });\n    }\n    return Promise.resolve([]);\n  }, [authProvider]);\n  return getPermissions;\n};\nexport default useGetPermissions;","map":{"version":3,"names":["useCallback","useAuthProvider","useGetPermissions","authProvider","getPermissions","params","then","result","Promise","resolve"],"sources":["/home/diarietou/Bureau/afterSA/test/testfront/react-admin-test/node_modules/ra-core/src/auth/useGetPermissions.ts"],"sourcesContent":["import { useCallback } from 'react';\n\nimport useAuthProvider from './useAuthProvider';\n\n/**\n * Get a callback for calling the authProvider.getPermissions() method.\n *\n * @see useAuthProvider\n *\n * @returns {Function} getPermissions callback\n *\n * This is a low level hook. See those more specialized hooks\n * offering state handling.\n *\n * @see usePermissions\n *\n * @example\n *\n * import { useGetPermissions } from 'react-admin';\n *\n * const Roles = () => {\n *     const [permissions, setPermissions] = useState([]);\n *     const getPermissions = useGetPermissions();\n *     useEffect(() => {\n *         getPermissions().then(permissions => setPermissions(permissions))\n *     }, [])\n *     return (\n *         <ul>\n *             {permissions.map((permission, key) => (\n *                 <li key={key}>{permission}</li>\n *             ))}\n *         </ul>\n *     );\n * }\n */\nconst useGetPermissions = (): GetPermissions => {\n    const authProvider = useAuthProvider();\n    const getPermissions = useCallback(\n        (params: any = {}) => {\n            // react-query requires the query to return something\n            if (authProvider && authProvider.getPermissions) {\n                return authProvider\n                    .getPermissions(params)\n                    .then(result => result ?? null);\n            }\n            return Promise.resolve([]);\n        },\n        [authProvider]\n    );\n\n    return getPermissions;\n};\n\n/**\n * Proxy for calling authProvider.getPermissions()\n *\n * @param {Object} params The parameters to pass to the authProvider\n *\n * @return {Promise} The authProvider response\n */\ntype GetPermissions = (params?: any) => Promise<any>;\n\nexport default useGetPermissions;\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,OAAO;AAEnC,OAAOC,eAAe,MAAM,mBAAmB;AAE/C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,IAAMC,iBAAiB,GAAG,SAAAA,CAAA;EACtB,IAAMC,YAAY,GAAGF,eAAe,EAAE;EACtC,IAAMG,cAAc,GAAGJ,WAAW,CAC9B,UAACK,MAAgB;IAAhB,IAAAA,MAAA;MAAAA,MAAA,KAAgB;IAAA;IACb;IACA,IAAIF,YAAY,IAAIA,YAAY,CAACC,cAAc,EAAE;MAC7C,OAAOD,YAAY,CACdC,cAAc,CAACC,MAAM,CAAC,CACtBC,IAAI,CAAC,UAAAC,MAAM;QAAI,OAAAA,MAAM,aAANA,MAAM,cAANA,MAAM,GAAI,IAAI;MAAd,CAAc,CAAC;;IAEvC,OAAOC,OAAO,CAACC,OAAO,CAAC,EAAE,CAAC;EAC9B,CAAC,EACD,CAACN,YAAY,CAAC,CACjB;EAED,OAAOC,cAAc;AACzB,CAAC;AAWD,eAAeF,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { getRelatedIds } from './getRelatedIds';\n/**\n * Helper function for calling the dataProvider.getMany() method,\n * and getting a Promise for the records indexed by id in return.\n *\n * @example\n *     fetchRelatedRecords(dataProvider)(records, 'post_id', 'posts').then(posts =>\n *         posts.map(record => ({\n *             ...record,\n *             post_title: posts[record.post_id].title,\n *         }))\n *     );\n */\nexport var fetchRelatedRecords = function (dataProvider) {\n  return function (data, field, resource) {\n    return dataProvider.getMany(resource, {\n      ids: getRelatedIds(data, field)\n    }).then(function (_a) {\n      var data = _a.data;\n      return data.reduce(function (acc, post) {\n        acc[post.id] = post;\n        return acc;\n      }, {});\n    });\n  };\n};","map":{"version":3,"names":["getRelatedIds","fetchRelatedRecords","dataProvider","data","field","resource","getMany","ids","then","_a","reduce","acc","post","id"],"sources":["/home/diarietou/Bureau/afterSA/test/testfront/react-admin-test/node_modules/ra-core/src/export/fetchRelatedRecords.ts"],"sourcesContent":["import { DataProvider, FetchRelatedRecords } from '../types';\nimport { getRelatedIds } from './getRelatedIds';\n\n/**\n * Helper function for calling the dataProvider.getMany() method,\n * and getting a Promise for the records indexed by id in return.\n *\n * @example\n *     fetchRelatedRecords(dataProvider)(records, 'post_id', 'posts').then(posts =>\n *         posts.map(record => ({\n *             ...record,\n *             post_title: posts[record.post_id].title,\n *         }))\n *     );\n */\nexport const fetchRelatedRecords =\n    (dataProvider: DataProvider): FetchRelatedRecords =>\n    (data, field, resource) =>\n        dataProvider\n            .getMany(resource, { ids: getRelatedIds(data, field) })\n            .then(({ data }) =>\n                data.reduce((acc, post) => {\n                    acc[post.id] = post;\n                    return acc;\n                }, {})\n            );\n"],"mappings":"AACA,SAASA,aAAa,QAAQ,iBAAiB;AAE/C;;;;;;;;;;;;AAYA,OAAO,IAAMC,mBAAmB,GAC5B,SAAAA,CAACC,YAA0B;EAC3B,iBAACC,IAAI,EAAEC,KAAK,EAAEC,QAAQ;IAClB,OAAAH,YAAY,CACPI,OAAO,CAACD,QAAQ,EAAE;MAAEE,GAAG,EAAEP,aAAa,CAACG,IAAI,EAAEC,KAAK;IAAC,CAAE,CAAC,CACtDI,IAAI,CAAC,UAACC,EAAQ;UAANN,IAAI,GAAAM,EAAA,CAAAN,IAAA;MACT,OAAAA,IAAI,CAACO,MAAM,CAAC,UAACC,GAAG,EAAEC,IAAI;QAClBD,GAAG,CAACC,IAAI,CAACC,EAAE,CAAC,GAAGD,IAAI;QACnB,OAAOD,GAAG;MACd,CAAC,EAAE,EAAE,CAAC;IAHN,CAGM,CACT;EAPL,CAOK;AART,CAQS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
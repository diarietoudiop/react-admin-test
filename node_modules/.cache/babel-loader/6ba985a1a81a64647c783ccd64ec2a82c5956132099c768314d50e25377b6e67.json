{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport { useCreateController } from './useCreateController';\nimport { CreateContextProvider } from './CreateContextProvider';\nimport { OptionalResourceContextProvider } from '../../core';\nimport { useIsAuthPending } from '../../auth';\n/**\n * Call useCreateController and put the value in a CreateContext\n *\n * Base class for <Create> components, without UI.\n *\n * Accepts any props accepted by useCreateController:\n * - id: The record identifier\n * - resource: The resource\n *\n * @example // Custom edit layout\n *\n * const PostCreate = () => (\n *     <CreateBase>\n *         <Grid container>\n *             <Grid item xs={8}>\n *                 <SimpleForm>\n *                     ...\n *                 </SimpleForm>\n *             </Grid>\n *             <Grid item xs={4}>\n *                 Create instructions...\n *             </Grid>\n *         </Grid>\n *         <div>\n *             Post related links...\n *         </div>\n *     </CreateBase>\n * );\n */\nexport var CreateBase = function (_a) {\n  var children = _a.children,\n    _b = _a.loading,\n    loading = _b === void 0 ? null : _b,\n    props = __rest(_a, [\"children\", \"loading\"]);\n  var controllerProps = useCreateController(props);\n  var isAuthPending = useIsAuthPending({\n    resource: controllerProps.resource,\n    action: 'create'\n  });\n  if (isAuthPending && !props.disableAuthentication) {\n    return loading;\n  }\n  return (\n    // We pass props.resource here as we don't need to create a new ResourceContext if the props is not provided\n    React.createElement(OptionalResourceContextProvider, {\n      value: props.resource\n    }, React.createElement(CreateContextProvider, {\n      value: controllerProps\n    }, children))\n  );\n};","map":{"version":3,"names":["React","useCreateController","CreateContextProvider","OptionalResourceContextProvider","useIsAuthPending","CreateBase","_a","children","_b","loading","props","__rest","controllerProps","isAuthPending","resource","action","disableAuthentication","createElement","value"],"sources":["/home/diarietou/Bureau/afterSA/test/testfront/react-admin-test/node_modules/ra-core/src/controller/create/CreateBase.tsx"],"sourcesContent":["import * as React from 'react';\nimport { ReactNode } from 'react';\nimport {\n    useCreateController,\n    CreateControllerProps,\n} from './useCreateController';\nimport { CreateContextProvider } from './CreateContextProvider';\nimport { Identifier, RaRecord } from '../../types';\nimport { OptionalResourceContextProvider } from '../../core';\nimport { useIsAuthPending } from '../../auth';\n\n/**\n * Call useCreateController and put the value in a CreateContext\n *\n * Base class for <Create> components, without UI.\n *\n * Accepts any props accepted by useCreateController:\n * - id: The record identifier\n * - resource: The resource\n *\n * @example // Custom edit layout\n *\n * const PostCreate = () => (\n *     <CreateBase>\n *         <Grid container>\n *             <Grid item xs={8}>\n *                 <SimpleForm>\n *                     ...\n *                 </SimpleForm>\n *             </Grid>\n *             <Grid item xs={4}>\n *                 Create instructions...\n *             </Grid>\n *         </Grid>\n *         <div>\n *             Post related links...\n *         </div>\n *     </CreateBase>\n * );\n */\nexport const CreateBase = <\n    RecordType extends Omit<RaRecord, 'id'> = any,\n    ResultRecordType extends RaRecord = RecordType & { id: Identifier },\n    MutationOptionsError = Error,\n>({\n    children,\n    loading = null,\n    ...props\n}: CreateBaseProps<RecordType, ResultRecordType, MutationOptionsError>) => {\n    const controllerProps = useCreateController<\n        RecordType,\n        MutationOptionsError,\n        ResultRecordType\n    >(props);\n\n    const isAuthPending = useIsAuthPending({\n        resource: controllerProps.resource,\n        action: 'create',\n    });\n\n    if (isAuthPending && !props.disableAuthentication) {\n        return loading;\n    }\n\n    return (\n        // We pass props.resource here as we don't need to create a new ResourceContext if the props is not provided\n        <OptionalResourceContextProvider value={props.resource}>\n            <CreateContextProvider value={controllerProps}>\n                {children}\n            </CreateContextProvider>\n        </OptionalResourceContextProvider>\n    );\n};\n\nexport interface CreateBaseProps<\n    RecordType extends Omit<RaRecord, 'id'> = any,\n    ResultRecordType extends RaRecord = RecordType & { id: Identifier },\n    MutationOptionsError = Error,\n> extends CreateControllerProps<\n        RecordType,\n        MutationOptionsError,\n        ResultRecordType\n    > {\n    children: ReactNode;\n    loading?: ReactNode;\n}\n"],"mappings":";;;;;;;;AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAE9B,SACIC,mBAAmB,QAEhB,uBAAuB;AAC9B,SAASC,qBAAqB,QAAQ,yBAAyB;AAE/D,SAASC,+BAA+B,QAAQ,YAAY;AAC5D,SAASC,gBAAgB,QAAQ,YAAY;AAE7C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,OAAO,IAAMC,UAAU,GAAG,SAAAA,CAIxBC,EAIoE;EAHlE,IAAAC,QAAQ,GAAAD,EAAA,CAAAC,QAAA;IACRC,EAAA,GAAAF,EAAA,CAAAG,OAAc;IAAdA,OAAO,GAAAD,EAAA,cAAG,IAAI,GAAAA,EAAA;IACXE,KAAK,GAAAC,MAAA,CAAAL,EAAA,EAHV,uBAID,CADW;EAER,IAAMM,eAAe,GAAGX,mBAAmB,CAIzCS,KAAK,CAAC;EAER,IAAMG,aAAa,GAAGT,gBAAgB,CAAC;IACnCU,QAAQ,EAAEF,eAAe,CAACE,QAAQ;IAClCC,MAAM,EAAE;GACX,CAAC;EAEF,IAAIF,aAAa,IAAI,CAACH,KAAK,CAACM,qBAAqB,EAAE;IAC/C,OAAOP,OAAO;;EAGlB;IACI;IACAT,KAAA,CAAAiB,aAAA,CAACd,+BAA+B;MAACe,KAAK,EAAER,KAAK,CAACI;IAAQ,GAClDd,KAAA,CAAAiB,aAAA,CAACf,qBAAqB;MAACgB,KAAK,EAAEN;IAAe,GACxCL,QAAQ,CACW;EACM;AAE1C,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}